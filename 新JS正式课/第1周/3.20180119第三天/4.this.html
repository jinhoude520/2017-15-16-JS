<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    // this--> 关键字： 在作用域中特殊意义


    //    var that = this;

    //    console.log(this);// window
    ////    var  a = 10;
    ////    a = 10;
    //    this.a = 10;// window

    //    function fn() {
    //        function f() {
    //            console.log(1);
    //        }
    //        return f;
    //    };
    //    var  f1 = fn();//xxxfff000
    //    f1()
    //    function fn() {
    //        function f() {
    //            console.log(1);
    //        }
    //        this.f = f;// 给window新增一个属性名f,属性值是f的空间地址；
    //    };
    //    fn()
    //    window.f()
    //    console.log(this);// window

    // this : 谁让这个函数执行，那么这个函数中的this就是谁；指的是函数的执行主体；
    // 1. 全局下的this，永远指向window；
    // 2. 函数中的this，要看函数执行前有没有“.”,点前面是谁，那么函数中的this就是谁；如果没有点，那么函数中this会指向window；
    // 3. 给元素的事件行为绑定方法，那么方法中的this指向当前被绑定那个元素；

    // 4. 自执行函数中的this永远指向window
    // 5. 回调函数中的this指向window；


    //    function fn() {
    //        console.log(this)// window
    //    };
    //    window.fn()
    //    var obj = {
    //        num:1,
    //        fn : function () {
    //            console.log(this)// obj
    //        }
    //    };
    //    var  f = obj.fn;
    //    f();// window
    //    obj.fn()// obj

    //    (function () {
    //        console.log(this);// window
    //    })();
    //    var obj = {
    //        fn : (function () {
    //            console.log(this);
    //        })()
    //    }
    //    function f() {
    //        (function () {
    //            console.log(this);
    //        })()
    //    }
    //    f()
    //    var obj = {
    //        fn : function () {
    //             console.log(this);// obj
    //            (function () {
    //                console.log(this);// window
    //            })();
    //        }
    //    };
    //    obj.fn()
    // 一个函数A作为一个实参传给另一个函数B，在另一个函数B中任意位置都可以执行函数A，那么函数A就叫做函数B的回调函数；
    //    setInterval(function () {console.log(this);},1000);
    //[1,28,5].sort(function (a,b) {
    //    console.log(this);
    //    return a-b;
    //})
    var num =1;// 3  5  6  8
    var  obj = {
        num : 10,
        fn : (function () {
            this.num *=3;// --> window
            return function () {
                num +=2;
                this.num ++;
            }
        })()
    };
    var f = obj.fn;
    f();
    obj.fn();
    console.log(num, obj.num);// 8  11


</script>
</body>
</html>